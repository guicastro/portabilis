<!-- Bread crumb is created dynamically -->
<!-- row -->
<!-- row -->
<div class="row">
	<!-- col -->
	<!-- <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
		<h1 class="page-title txt-color-blueDark">

			PAGE HEADER
			<i class="fa-fw fa fa-home"></i>
				Pessoas
			<span>>
				Cadastro de pessoas
			</span>
		</h1>
	</div> -->
	<!-- end col -->


</div>
<!-- end row -->


	<!-- row -->

	<div class="row">

		<!-- a blank row to get started -->
		<div class="col-sm-12">
			<!-- your contents here -->

			<legend>Filtros</legend>
			<div class="row">
				<div class="col-md-4">
					<div class="form-group">
						<select id="filtro_perfis" style="width:100%" class="select2 filtro-grid" data-id='6'></select>
					</div>
				</div>
				<div class="col-md-4">
					<div class="form-group">
						<select id="filtro_status" style="width:100%" class="select2 filtro-grid" data-id='7'></select>
					</div>
				</div>
			</div>
			<p></p>
			<ul class="list-inline">
				<li><button id="btn-novo-cadastro" type="button" class="btn btn-sm btn-labeled btn-primary"><span class="btn-label"><i class="fa fa-plus"></i></span>Novo</button></li>
				<li><button id="btn-atualizar" type="button" class="btn btn-sm btn-labeled bg-color-pinkDark txt-color-white" title="Atualizar listagem"><span class="btn-label"><i class="fa fa-refresh"></i></span>Atualizar</button></li>
				<li><button id="btn-resetar-filtros" type="button" class="btn btn-sm btn-labeled btn-default" title="Resetar filtros"><span class="btn-label"><i class="fa fa-ban"></i></span>Resetar filtros</button></li>
			</ul>

			<!-- Widget ID (each widget will need unique ID)-->
			<div class="jarviswidget jarviswidget-color-blueDark" id="wid-id-1" data-widget-editbutton="false">
				<!-- widget options:
				usage: <div class="jarviswidget" id="wid-id-0" data-widget-editbutton="false">

				data-widget-colorbutton="false"
				data-widget-editbutton="false"
				data-widget-togglebutton="false"
				data-widget-deletebutton="false"
				data-widget-fullscreenbutton="false"
				data-widget-custombutton="false"
				data-widget-collapsed="true"
				data-widget-sortable="false"

				-->
				<header>
					<span class="widget-icon"> <i class="fa fa-table"></i> </span>
					<h2>Listagem de <span id="txt-entity-multiple"></span></h2>

				</header>

				<!-- widget div-->
				<div>

					<!-- widget edit box -->
					<div class="jarviswidget-editbox">
						<!-- This area used as dropdown edit box -->

					</div>
					<!-- end widget edit box -->

					<!-- widget content -->
					<div class="widget-body no-padding">

						<table id="datatable_fixed_column" class="table table-striped table-bordered" width="100%">

					        <thead>
								<tr class="DT_Filter"></tr> <!-- LINHA PARA DOS FILTROS POR COLUNA -->
					            <tr class="DT_Title"></tr> <!-- LINHA DO TÍTULO DAS COLUNAS -->
					        </thead>
						</table>

					</div>
					<!-- end widget content -->

				</div>
				<!-- end widget div -->

			</div>
			<!-- end widget -->











			<!--#### MODAL DE CADASTRO ####-->
			<div class="modal fade" id="modal-cadastro" role="dialog" aria-hidden="true">
			    <div class="modal-dialog">
			        <div class="modal-content">

						<form name="form-cadastro-usuario" id="form-cadastro-usuario" action="" method="post" enctype="multipart/form-data">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
									&times;
								</button>
								<h4 class="modal-title">Cadastro de <span id="txt-entity-single"></span></h4>
							</div>
							<div class="modal-body">
								<div class="row" id="id-reg">
									<div class="col-md-12">
										<div class="form-group">ID <strong><span id="id_reg"></span></strong> <i id="txt_id_reg" class="fa fa-history bigger-120" rel="popover-html" data-rel="reg_user_popover" data-trigger="hover" data-placement="right" data-content="" title="Histórico do registro"></i></div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-6">
										<div class="form-group">
											<label for="perfis_perf_id" class="control-label">Perfil</label>
											<select name="perfis_perf_id" id="perfis_perf_id" style="width:100%" class="select2" required data-msg="Escolha o perfil"></select>
											<input type="hidden" id="perfil_antigo" name="perfil_antigo" />
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-6">
										<div class="form-group">
											<label for="usua_nome" class="control-label">Nome</label>
											<input name="usua_nome" id="usua_nome" type="text" class="form-control" placeholder="Nome" required data-msg="Preencha o nome" />
										</div>
									</div>
									<div class="col-md-6">
										<div class="form-group">
											<label for="usua_email" class="control-label">E-mail</label>
											<input name="usua_email" id="usua_email" type="email" class="form-control" placeholder="E-mail" required data-msg="Preencha o E-mail" data-rule-email="true" data-msg-email="Digite um e-mail válido"/>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-4">
										<div class="form-group">
											<label for="usua_login" class="control-label">Login</label>
											<input name="usua_login" id="usua_login" type="text" class="form-control" placeholder="Login" required data-msg="Preencha o login" onkeyup="MaskLogin(this)" />
											<input type="hidden" id="login_antigo" name="login_antigo" />
										</div>
									</div>
									<div class="col-md-4">
										<div class="form-group">
											<label for="usua_senha" class="control-label">Senha</label>
											<input name="usua_senha" id="usua_senha" type="password" class="form-control" data-msg="Preencha a senha"  />
										</div>
									</div>
									<div class="col-md-4">
										<div class="form-group">
											<label for="repetir_senha" class="control-label">Repita a senha</label>
											<input name="repetir_senha" id="repetir_senha" type="password" class="form-control" data-rule-equalTo="#usua_senha" data-msg-equalTo="As senhas devem ser iguais"  />
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-4">
										<div id="radio_usua_status" class="form-group"></div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<button id="btn-fechar" type="button" class="btn btn-labeled btn-default" data-dismiss="modal"><span class="btn-label"><i class="fa fa-times"></i></span>Cancelar</button>
								<button id="btn-inserir" type="submit" class="btn btn-labeled btn-primary" data-id="inserir"><span class="btn-label"><i class="fa fa-check"></i></span>Inserir</button>
								<button id="btn-alterar" type="submit" class="btn btn-labeled btn-success" data-id="alterar"><span class="btn-label"><i class="fa fa-check"></i></span>Alterar</button>
							</div>
						</form>

			        </div>
			    </div>
			</div>
			<!--#### MODAL DE CADASTRO ####-->











			<!--#### MODAL DE PERMISSÕES DO USUÁRIO ####-->
			<div class="modal fade" id="modal-permissoes" role="dialog" aria-hidden="true">
			    <div class="modal-dialog">
			        <div class="modal-content">

						<form name="form-permissoes-usuario" id="form-permissoes-usuario" action="" method="post" enctype="multipart/form-data">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
									&times;
								</button>
								<h4 class="modal-title">Permissões do usuário</h4>
							</div>
							<div class="modal-body">
								<div class="row" id="id-reg">
									<div class="col-md-12">
										<div class="form-group">ID <strong><span id="id_reg"></span></strong> <i id="txt_id_reg" class="fa fa-history bigger-120" rel="popover-html" data-rel="reg_user_popover" data-trigger="hover" data-placement="right" data-content="" title="Histórico do registro"></i></div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-6">
										<div class="form-group">
											<label for="usua_nome" class="control-label">Usuário</label>
											<input name="usua_nome" id="usua_nome" type="text" class="form-control" readonly="readonly" />
										</div>
									</div>
								</div>
								<legend>Permissões</legend>
								<div class="row">
									<div class="col-md-12">
										<div class="table-responsive">
											<table id="TabelaPermissoes" class="table table-bordered table-striped table-hover">
												<thead>
												</thead>
												<tbody>
												</tbody>
											</table>
										</div>
									</div>
								</div>
								<legend>Permissões especiais</legend>
								<div class="row">
									<div class="col-md-12">
										<div id="PermissoesEspeciais"></div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<button id="btn-fechar" type="button" class="btn btn-labeled btn-default" data-dismiss="modal"><span class="btn-label"><i class="fa fa-times"></i></span>Cancelar</button>
								<button id="btn-alterar" type="submit" class="btn btn-labeled btn-success" data-id="alterar_permissoes"><span class="btn-label"><i class="fa fa-check"></i></span>Alterar</button>
							</div>
						</form>

			        </div>
			    </div>
			</div>
			<!--#### MODAL DE PERMISSÕES DO USUÁRIO ####-->















			<!--#### MODAL DE PARCEIROS DO USUÁRIO ####-->
			<div class="modal fade" id="modal-parceiros" role="dialog" aria-hidden="true">
			    <div class="modal-dialog">
			        <div class="modal-content">

						<form name="form-parceiros-usuario" id="form-parceiros-usuario" action="" method="post" enctype="multipart/form-data">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
									&times;
								</button>
								<h4 class="modal-title">Parceiros do usuário</h4>
							</div>
							<div class="modal-body">
								<div class="row" id="id-reg">
									<div class="col-md-12">
										<div class="form-group">ID <strong><span id="id_reg"></span></strong> <i id="txt_id_reg" class="fa fa-history bigger-120" rel="popover-html" data-rel="reg_user_popover" data-trigger="hover" data-placement="right" data-content="" title="Histórico do registro"></i></div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-6">
										<div class="form-group">
											<label for="usua_nome" class="control-label">Usuário</label>
											<input name="usua_nome" id="usua_nome" type="text" class="form-control" readonly="readonly" />
										</div>
									</div>
								</div>
								<legend>Parceiros</legend>
								<div class="row">
									<div class="col-md-12">
										<div id="Check_Parceiros" class="form-group"></div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<button id="btn-fechar" type="button" class="btn btn-labeled btn-default" data-dismiss="modal"><span class="btn-label"><i class="fa fa-times"></i></span>Cancelar</button>
								<button id="btn-alterar" type="submit" class="btn btn-labeled btn-success" data-id="alterar_parceiros"><span class="btn-label"><i class="fa fa-check"></i></span>Alterar</button>
							</div>
						</form>

			        </div>
			    </div>
			</div>
			<!--#### MODAL DE PARCEIROS DO USUÁRIO ####-->





		</div>

	</div>

	<!-- end row -->



<script type="text/javascript">

	pageSetUp();

	/*
	 * ALL PAGE RELATED SCRIPTS CAN GO BELOW HERE
	 * eg alert("my home function");
	 *
	 * var pagefunction = function() {
	 *   ...
	 * }
	 * loadScript("js/plugin/_PLUGIN_NAME_.js", pagefunction);
	 *
	 * TO LOAD A SCRIPT:
	 * var pagefunction = function (){
	 *  loadScript(".../plugin.js", run_after_loaded);
	 * }
	 *
	 * OR you can load chain scripts by doing
	 *
	 * loadScript(".../plugin.js", function(){
	 * 	 loadScript("../plugin.js", function(){
	 * 	   ...
	 *   })
	 * });
	 */



	/*### FUNÇÃO QUE RESETA O FORMULÁRIO QUANDO CLICA NOS BOTÕES DE AÇÃO ###*/
	//action = ação do formulário (novo, inserir, alterar, excluir, etc)
	//IdElementForm = ID do elemento FORM dos cadastros principais
	function ResetForm(action, IdElementForm) {

		//RESETA O FORMULÁRIO (EXCETO SELECT2 E CAMPOS ESPECIAIS)
		$("#"+IdElementForm).trigger('reset');

		//RESETA CAMPOS CAMPOS ESPECIAIS
		$("#"+IdElementForm+" :input[id=perfis_perf_id]").val('').select2();
		$("#"+IdElementForm+" :input[id=perfil_antigo]").val('');
		$("#"+IdElementForm+" :input[id=login_antigo]").val('');

		/*### ADICIONA A VALIDAÇÃO DE SENHA OBRIGATÓRIA ###*/
		$("#usua_senha").rules("add", {
			required: true
		});
		/*### ADICIONA A VALIDAÇÃO DE SENHA OBRIGATÓRIA ###*/

		/*### AÇÕES DE RESET CONFORME ACTION ###*/
		if(action=='novo') {

			//TROCA O LABEL DA SENHA SE A AÇÃO FOR NOVO CADASTRO
			$('label[for=usua_senha]').text('Senha');
		}
		else if(action=='alterar') {

			//TROCA O LABEL DA SENHA SE A AÇÃO FOR ALTERAR UM CADASTRO
			$('label[for=usua_senha]').text('Nova senha (em branco para não alterar)');

			//REMOVE A OBRIGATORIEDADE DE SENHA SE ESTIVER ALTERANDO UM CADASTRO
			$("#usua_senha").rules("remove");
		}
		/*### AÇÕES DE RESET CONFORME ACTION ###*/

	}
	/*### FUNÇÃO QUE RESETA O FORMULÁRIO QUANDO CLICA NOS BOTÕES DE AÇÃO ###*/


	/*### FUNÇÃO PARA EXECUTAR AÇÕES ADICIONAIS AO ACTIONFORM ###*/
	function AdditionalActionForm(IdElementForm, action, data, textStatus, jqXHR, DataTable, ModuleDefs, IdModalElement) {

		if((action=='selecionar')&&(typeof data[0]!='undefined')) {

			//LIMPA OS DADOS DA SENHA E REPETIR AO CARREGAR UM CADASTRO
			$('#usua_senha, #repetir_senha').val('');

			if(IdElementForm=="form-permissoes-usuario") {

				SetPermissions('TabelaPermissoes', 'PermissoesEspeciais', data[0].permissoes);
			}
		}
	}
	/*### FUNÇÃO PARA EXECUTAR AÇÕES ADICIONAIS AO ACTIONFORM ###*/





	// pagefunction

	var pagefunction = function() {


		//ID DO ELEMENTO TABLE DO GRID
		var IdElementDataTable = 'datatable_fixed_column';

		//ID DO ELEMENTO FORM DE CADASTRO PRINCIPAL
		var IdElementForm = 'form-cadastro-usuario';

		//ID DO ELEMENTO MODAL DE CADASTRO PRINCIPAL
		var IdModalElement = 'modal-cadastro';


		/*### DEFINIÇÕES GERAIS DO MÓDULO ###*/
		var ModuleDefs = {
			"Name":"Usuario", //IDENTIFICADOR INTERNO DO MÓDULO (REFERÊNCIA PARA PERMISSÃO DE ACESSO)
			"Prefix":"usua_", //PREFIXO DOS CAMPOS DO MÓDULO (USADOS NA TABELA DO BANCO DE DADOS)
			"Title":"Cadastro de Usuários", //TÍTULO DO MÓDULO
			"Entity":"Usuario", //ENTIDADE DO MÓDULO (REFERÊNCIA PARA CLASSE)
			"Table":"Usuarios", //NOME DA TABELA NO BANCO DE DADOS
			"EntitySingle":"Usuário", //ENTIDADE DO MÓDULO (SINGULAR)
			"EntityMultiple":"Usuários" //ENTIDADE DO MÓDULO (PLURAL)
		};
		/*### DEFINIÇÕES GERAIS DO MÓDULO ###*/


		//CHAMA A FUNÇÃO QUE SETA OS DADOS BÁSICOS DO MÓDULO E ENTIDADE
		SetModuleEntity(ModuleDefs);

		//MARCA OS CAMPOS DO FORMULÁRIO COMO OBRIGATÓRIOS
		MarkRequiredFields(IdElementForm);


		/*### DEFINIÇÕES DAS COLUNAS DO GRID (PRIMEIRA COLUNA É ZERO) ###*/
		var ColumnDefs = [
			{ "name":"ID", "data":"DT_RowId", "primary_key":"id", "DataType":"int", "orderable":false, "width":"6%", "responsive": { "class":"expand" }, "DT_Filter": { "hasFilter": true, "type":"input" },  },
			{ "name":"Nome", "data":"nome", "width":"28%", "responsive": { "class":"expand" }, "DT_Filter": { "hasFilter": true, "type":"input", "searchOperator":"LIKE" },  },
			{ "name":"Login", "data":"login", "width":"20%", "DT_Filter": { "hasFilter": true, "type":"input", "searchOperator":"LIKE" },  },
			{ "name":"E-mail", "data":"email", "visible":false, "DT_Filter": { "hasFilter": false, "type":"input", "searchOperator":"LIKE" }, },
			{ "name":"Perfil", "data":"perfil_titulo", "width":"20%", "responsive": { "class":"expand", "hide":"phone" }, "DT_Filter": { "hasFilter": true, "type":"input", "searchOperator":"LIKE" }, "otherTable":{ "Table":"Perfis", "Alias":"Perfis", "Prefix":"Perf_", "Join":"INNER", "FieldKey":"perfis_perf_id", "FieldKeyOtherTable":"Perf_id", "View":"Perf_Titulo"} },
			{ "name":"Status", "data":"status_nome", "width":"12%", "DT_Filter": { "hasFilter": true, "type":"input", "searchOperator":"LIKE" }, "otherTable":{ "DynamicTable":"STATUS", "Join":"INNER", "FieldKey":"Status", "FieldKeyOtherTable":"Codigo", "View":"Descricao"} },
			{ "name":"perfil", "data":"perfis_perf_id", "DataType":"int", "noPrefix":true, "visible":false },
			{ "name":"status", "data":"status", "DataType":"int", "visible":false },
			{ "name":"actions", "data":"acoes", "width":"14%", "orderable":false, "searchable":false, "defaultContent":'<button type="button" data-id="parceiros" title="Parceiros do Usuário" class="btn btn-primary btn-xs"><i class="fa fa-briefcase"></i></button>&nbsp;<button type="button" data-id="permissoes" title="Permissões de acesso" class="btn btn-default btn-xs"><i class="fa fa-lock"></i></button>&nbsp;<button type="button" data-id="alterar" title="Alterar" class="btn btn-success btn-xs"><i class="fa fa-edit"></i></button>&nbsp;<button type="button" data-id="excluir" title="Excluir" class="btn btn-danger btn-xs"><i class="fa fa-trash"></i></button>' },
		];
		/*### DEFINIÇÕES DAS COLUNAS DO GRID (PRIMEIRA COLUNA É ZERO) ###*/





		/*### ORDENAÇÃO INICIAL DO GRID (PRIMEIRA COLUNA É ZERO) ###*/
		var ColumnOrder = [
			[1, "asc"]
		];
		/*### ORDENAÇÃO INICIAL DO GRID (PRIMEIRA COLUNA É ZERO) ###*/




		/*### OBJETO OTHERTABLE PARA PERFIS ###*/
		var OtherTablePerfis = {
			"Table":"Perfis",
			"Prefix":"perf_",
			"Key":"id",
			"Desc":"Titulo",
			"Condition":"",
			"FieldToOrder":"Titulo",
			"Order":"ASC"
		};
		/*### OBJETO OTHERTABLE PARA PERFIS ###*/

		//ARMAZENA OS PERFIS EM OBJETO
		var perfis = GetDynamicTable('','','',OtherTablePerfis);

		//POPULA O SELECT2 DO FILTRO COM OS PERFIS
		SetSelectFromDynamicTable('filtro_perfis',perfis,'Perfil do usuário','Todos os perfis','');

		//POPULA O SELECT2 DO FORMULÁRIO DE CADASTRO COM OS PERFIS
		SetSelectFromDynamicTable('perfis_perf_id',perfis,'Perfil','','');

		//ARMAZENA OS STATUS EM OBJETO
		var status = GetDynamicTable('STATUS','descricao','ASC','');

		//GERA O ELEMENTO RADIO DO STATUS
		CreateCheckRadioFromDynamicTable('radio_usua_status', 'Status', 'usua_status', 'radio', status, 'required', 'data-msg="Escolha o status"', '');

		//POPULA O SELECT2 DO FILTRO COM OS STATUS
		SetSelectFromDynamicTable('filtro_status',status,'Status do Usuário','Todos os status','');




		/*### CHAMA O GRID ###*/
		var DataTable = GenerateDataTable(IdElementDataTable, '', ModuleDefs, ColumnDefs, ColumnOrder, IdElementForm, IdModalElement);
		/*### CHAMA O GRID ###*/


		/*### ATIVA A VALIDAÇÃO DO FORMULÁRIO DE CADASTRO ###*/
		FormValidation(IdElementForm, IdElementDataTable, DataTable, ModuleDefs, IdModalElement)
		/*### ATIVA A VALIDAÇÃO DO FORMULÁRIO DE CADASTRO ###*/




		//ID DO ELEMENTO FORM DE CADASTRO DE PERMISSOES
		var IdElementFormPermissions = 'form-permissoes-usuario';

		//ID DO ELEMENTO MODAL DE CADASTRO PRINCIPAL
		var IdModalElementPermissions = 'modal-permissoes';


		/*### RETORNA O FORMULÁRIO DE PERMISSÕES ###*/
		GetModulesPermissions('TabelaPermissoes','PermissoesEspeciais');
		/*### RETORNA O FORMULÁRIO DE PERMISSÕES ###*/

		//MARCA OS CAMPOS DO FORMULÁRIO COMO OBRIGATÓRIOS
		MarkRequiredFields(IdElementFormPermissions);

		/*### ATIVA A VALIDAÇÃO DO FORMULÁRIO DE CADASTRO ###*/
		FormValidation(IdElementFormPermissions, IdElementDataTable, DataTable, ModuleDefs, IdModalElementPermissions)
		/*### ATIVA A VALIDAÇÃO DO FORMULÁRIO DE CADASTRO ###*/



		/*#### AÇÕES QUANDO CLICAR NO BOTÃO DE PERMISSÕES NO GRID ####*/
		$("#"+IdElementDataTable+" tbody").on('click', 'tr td:last-child button[data-id=permissoes]', function (event) {
			event.preventDefault();

			//OBTEM O ID DA LINHA
			var id_reg = $(this).closest('tr').attr('id');

			//CHAMA A FUNÇÃO QUE RESETA A VALIDAÇÃO DO FORMULÁRIO
			ResetValidation(IdElementFormPermissions)

			//CHAMA FUNÇÃO QUE RESETA O FORMULÁRIO
			ResetForm('alterar', IdElementFormPermissions);

			//CHAMA A FUNÇÃO PADRÃO DE AÇÕES DO FORM
			ActionForm('selecionar', '', id_reg, IdElementDataTable, DataTable, IdElementFormPermissions, ModuleDefs, IdModalElementPermissions);

			//ABRE O MODAL DE CADASTRO
			$("#"+IdModalElementPermissions).modal('show');
		});
		/*#### AÇÕES QUANDO CLICAR NO BOTÃO DE PERMISSÕES NO GRID ####*/





		//ID DO ELEMENTO FORM DE CADASTRO DE PARCEIROS DO USUÁRIO
		var IdElementFormParceiros = 'form-parceiros-usuario';

		//ID DO ELEMENTO MODAL DE CADASTRO PRINCIPAL
		var IdModalElementParceiros = 'modal-parceiros';


		//MARCA OS CAMPOS DO FORMULÁRIO COMO OBRIGATÓRIOS
		MarkRequiredFields(IdElementFormParceiros);

		/*### ATIVA A VALIDAÇÃO DO FORMULÁRIO DE CADASTRO ###*/
		FormValidation(IdElementFormParceiros, IdElementDataTable, DataTable, ModuleDefs, IdModalElementParceiros)
		/*### ATIVA A VALIDAÇÃO DO FORMULÁRIO DE CADASTRO ###*/



		/*### OBJETO OTHERTABLE PARA PARCEIROS ###*/
		var OtherTableParceiros = {
			"Table":"Parceiros",
			"Prefix":"parc_",
			"Key":"id",
			"Desc":"Razao_Nome",
			"Condition":"",
			"FieldToOrder":"Razao_Nome",
			"Order":"ASC"
		};
		/*### OBJETO OTHERTABLE PARA PARCEIROS ###*/

		//ARMAZENA OS PARCEIROS EM OBJETO
		var parceiros = GetDynamicTable('','','',OtherTableParceiros);

		//GERA O ELEMENTO RADIO DO STATUS
		CreateCheckRadioFromDynamicTable('Check_Parceiros', '', 'parceiros', 'checkbox', parceiros, '', '', '');


		/*#### AÇÕES QUANDO CLICAR NO BOTÃO DE PERMISSÕES NO GRID ####*/
		$("#"+IdElementDataTable+" tbody").on('click', 'tr td:last-child button[data-id=parceiros]', function (event) {
			event.preventDefault();

			//OBTEM O ID DA LINHA
			var id_reg = $(this).closest('tr').attr('id');

			//CHAMA A FUNÇÃO QUE RESETA A VALIDAÇÃO DO FORMULÁRIO
			ResetValidation(IdElementFormParceiros)

			//CHAMA FUNÇÃO QUE RESETA O FORMULÁRIO
			ResetForm('alterar', IdElementFormParceiros);

			//CHAMA A FUNÇÃO PADRÃO DE AÇÕES DO FORM
			ActionForm('selecionar', '', id_reg, IdElementDataTable, DataTable, IdElementFormParceiros, ModuleDefs, IdModalElementParceiros);

			//ABRE O MODAL DE CADASTRO
			$("#"+IdModalElementParceiros).modal('show');
		});
		/*#### AÇÕES QUANDO CLICAR NO BOTÃO DE PERMISSÕES NO GRID ####*/


	};

	// end pagefunction

	// destroy generated instances
	// pagedestroy is called automatically before loading a new page
	// only usable in AJAX version!

	var pagedestroy = function(){

		/*
		Example below:

		$("#calednar").fullCalendar( 'destroy' );
		if (debugState){
			root.console.log("✔ Calendar destroyed");
		}

		For common instances, such as Jarviswidgets, Google maps, and Datatables, are automatically destroyed through the app.js loadURL mechanic

		*/
	}

	// end destroy

	// run pagefunction
	pagefunction();

	// load related plugins



</script>
