<div class="row">
	<div class="col-xs-12 col-sm-9 col-md-9 col-lg-6">
		<h1 id="titulo-evento" class="page-title txt-color-blueDark"></h1>
	</div>
	<div class="col-xs-12 col-sm-3 col-md-3 col-lg-6">
		<ul id="sparks" class="" style="margin-right: 25px;">
			<li id="atendimentos-spark" class="sparks-info">
				<h5 style="text-align: center;"> Atendimentos <span id="AtendimentosTotal" class="txt-color-blue"></span></h5>
				<div id="AtendimentosHora" data-sparkline-bar-color="#57889C" data-sparkline-height="26px" data-sparkline-barwidth="5" data-sparkline-barspacing="2" class="sparkline hidden-mobile hidden-md hidden-sm"></div>
			</li>
			<li id="pessoas-spark" class="sparks-info">
				<h5 style="text-align: center;"> Pessoas <span id="PessoasTotal" class="txt-color-purple"></span></h5>
				<div id="PessoasHora" data-sparkline-bar-color="#6E587A" data-sparkline-height="26px" data-sparkline-barwidth="5" data-sparkline-barspacing="2" class="sparkline hidden-mobile hidden-md hidden-sm"></div>
			</li>
		</ul>
	</div>
</div>

<form name="form-cadastro" id="form-cadastro" action="" method="post" enctype="multipart/form-data" style="display: none;">
	<span id="id_reg"></span>
</form>

<!-- widget grid -->
<section id="widget-grid" class="">

	<!-- row -->
	<div class="row">
		<article class="col-sm-12">
			<!-- new widget -->
			<div class="jarviswidget" id="wid-id-0" data-widget-togglebutton="false" data-widget-editbutton="false" data-widget-fullscreenbutton="false" data-widget-colorbutton="false" data-widget-deletebutton="false">
				<!-- widget options:
				usage: <div class="jarviswidget" id="wid-id-0" data-widget-editbutton="false">

				data-widget-colorbutton="false"
				data-widget-editbutton="false"
				data-widget-togglebutton="false"
				data-widget-deletebutton="false"
				data-widget-fullscreenbutton="false"
				data-widget-custombutton="false"
				data-widget-collapsed="true"
				data-widget-sortable="false"

				-->
				<header>
					<span class="widget-icon"> <i class="glyphicon glyphicon-stats txt-color-darken"></i> </span>
					<h2>Atendimentos em Tempo real </h2>

					<ul class="nav nav-tabs pull-right in" id="myTab">
						<li class="active">
							<a data-toggle="tab" href="#s1"><i class="fa fa-handshake-o"></i> <span class="hidden-mobile hidden-tablet">Geral</span></a>
						</li>

						<li>
							<a data-toggle="tab" href="#s2"><i class="fa fa-vcard-o"></i> <span class="hidden-mobile hidden-tablet">Por Serviço</span></a>
						</li>
					</ul>

				</header>

				<!-- widget div-->
				<div class="no-padding">
					<!-- widget edit box -->
					<div class="jarviswidget-editbox"></div>
					<!-- end widget edit box -->

					<div class="widget-body">
						<!-- content -->
						<div id="myTabContent" class="tab-content">
							<div class="tab-pane fade active in padding-10 no-padding-bottom" id="s1">
								<div class="row no-space">
									<div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
										<div id="chartAtendimentos" class="chart-large txt-color-blue"></div>
									</div>
									<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 show-stats">

										<div class="row">
											<div id="ServicosSenhas"></div>
										</div>

									</div>
								</div>

								<div class="show-stat-microcharts">
									<div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
										<div id="TotalSenhas" class="easy-pie-chart txt-color-darken" data-pie-size="50">
											<span class="percent"></span>
										</div>
										<span class="easy-pie-title">SENHAS DISPONIBILIZADAS</span>
									</div>
									<div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">

										<div id="SenhasDistribuidas" class="easy-pie-chart txt-color-orangeDark" data-pie-size="50">
											<span class="percent percent-sign"></span>
										</div>
										<span class="easy-pie-title">SENHAS DISTRIBUÍDAS</span>
									</div>
									<div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
										<div id="SenhasAtendidas" class="easy-pie-chart txt-color-greenLight" data-pie-size="50">
											<span class="percent percent-sign"></span>
										</div>
										<span class="easy-pie-title">SENHAS ATENDIDAS</span>
									</div>
									<div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
										<div id="PessoasAtendimento" class="easy-pie-chart txt-color-blue" data-pie-size="50">
											<span class="percent"></span>
										</div>
										<span class="easy-pie-title">PESSOAS EM ATENDIMENTO</span>
									</div>
								</div>

							</div>
							<!-- end s1 tab pane -->






							<div class="tab-pane fade" id="s2">
								<div class="widget-body padding-10 col-xs-12">
									<div class="col-xs-8 col-sm-6 col-md-4 col-lg-4">
										<h2 style="font-size:16px;">ATENDIMENTOS POR CATEGORIA DE SERVIÇO</h2>
										<!-- <div id="GraficoServCat" class="chart" style="width: 100%; min-height: 300px;"></div> -->
										<canvas id="GraficoServCat" width="100%" height="100%" style="min-width: 300px; min-height: 300px;"></canvas>
									</div>
									<div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
										<h2>SERVIÇOS x PARCEIROS</h2>
										<div id="GraficoServParc" class="chart" style="width: 100%; min-height: 300px;"></div>
										<!-- <canvas id="barChart" height="120"></canvas> -->
									</div>
								</div>

							</div>
							<!-- end s2 tab pane -->

						</div>

						<!-- end content -->
					</div>

				</div>
				<!-- end widget div -->
			</div>
			<!-- end widget -->


		<span class="demo-liveupdate-1">
			<span class="onoffswitch-title">Atualização</span>
			<span class="onoffswitch">
				<input type="checkbox" name="start_interval" class="onoffswitch-checkbox" id="start_interval">
				<label class="onoffswitch-label" for="start_interval">
					<span class="onoffswitch-inner" data-swchon-text="ON" data-swchoff-text="OFF"></span>
					<span class="onoffswitch-switch"></span>
				</label>
			</span>
		</span>

		</article>


	</div>


	<!-- end row -->

</section>
<!-- end widget grid -->

<script type="text/javascript">
	/* DO NOT REMOVE : GLOBAL FUNCTIONS!
	 *
	 * pageSetUp(); WILL CALL THE FOLLOWING FUNCTIONS
	 *
	 * // activate tooltips
	 * $("[rel=tooltip]").tooltip();
	 *
	 * // activate popovers
	 * $("[rel=popover]").popover();
	 *
	 * // activate popovers with hover states
	 * $("[rel=popover-hover]").popover({ trigger: "hover" });
	 *
	 * // activate inline charts
	 * runAllCharts();
	 *
	 * // setup widgets
	 * setup_widgets_desktop();
	 *
	 * // run form elements
	 * runAllForms();
	 *
	 ********************************
	 *
	 * pageSetUp() is needed whenever you load a page.
	 * It initializes and checks for all basic elements of the page
	 * and makes rendering easier.
	 *
	 */

	 var $GraficoAtendimento, flot_statsChart, flot_multigraph, calendar;

	pageSetUp();



	/*### FUNÇÃO QUE RESETA O FORMULÁRIO QUANDO CLICA NOS BOTÕES DE AÇÃO ###*/
	//action = ação do formulário (novo, inserir, alterar, excluir, etc)
	//IdElementForm = ID do elemento FORM dos cadastros principais
	function ResetForm(action, IdElementForm) {

	}
	/*### FUNÇÃO QUE RESETA O FORMULÁRIO QUANDO CLICA NOS BOTÕES DE AÇÃO ###*/


	/*### FUNÇÃO PARA EXECUTAR AÇÕES ADICIONAIS AO ACTIONFORM ###*/
	function AdditionalActionForm(IdElementForm, action, data, textStatus, jqXHR, DataTable, ModuleDefs, IdModalElement) {

		console.log("\nAdditionalActionForm");
		console.log(IdElementForm);
		console.log(action);
		console.log(data);
		console.log(textStatus);
		console.log(jqXHR);
		console.log(DataTable);
		console.log(ModuleDefs);
		console.log(IdModalElement);

		if((action=="selecionar")&&(data.origem=="DataBasic")) {

			$("#titulo-evento").html('<i class="fa-fw fa fa-dashboard"></i> '+data[0].Even_Titulo+' <span>('+data[0].Even_Data+')</span>');
			$("#AppEnvironmentTop").html(data[0].Even_Titulo+' ('+data[0].Even_Data+')');

		}

	}
	/*### FUNÇÃO PARA EXECUTAR AÇÕES ADICIONAIS AO ACTIONFORM ###*/
	/*
	 * PAGE RELATED SCRIPTS
	 */


	// pagefunction

	var pagefunctionPainel = function() {

		/* chart colors default */
		// var $chrt_border_color = "#efefef";
		// var $chrt_grid_color = "#DDD"
		// var $chrt_main = "#E24913";			/* red       */
		// var $chrt_second = "#6595b4";		/* blue      */
		// var $chrt_third = "#FF9F01";		/* orange    */
		// var $chrt_fourth = "#7e9d3a";		/* green     */
		// var $chrt_fifth = "#BD362F";		/* dark red  */
		// var $chrt_mono = "#000";

		/* chart colors default */
		var $chrt_border_color = "#efefef";
		var $chrt_grid_color = "#DDD"
		var $chrt_main = "#57889c";			/* blue 		*/
		var $chrt_second = "#356e35";		/* green    	*/
		var $chrt_third = "#a90329";		/* red    		*/
		var $chrt_fourth = "#b09b5b";		/* yellow   	*/
		var $chrt_fifth = "#ac5287";		/* pink  		*/
		var $chrt_sixth = "#c79121";		/* orange  		*/
		var $chrt_seventh = "#6e587a";		/* purple  		*/
		var $chrt_eighth = "#6e3671";		/* magenta 		*/
		var $chrt_ninth = "#568a89";		/* teal  		*/
		var $chrt_tenth = "#92a2a8";		/* blueLight 	*/
		var $chrt_eleventh = "#71843f";		/* greenLight 	*/
		var $chrt_twelfth = "#4c4f53";		/* blueDark  	*/
		var $chrt_thirteenth = "#496949";	/* greenDark  	*/
		var $chrt_fourteenth = "#a57225";	/* orangeDark  	*/
		var $chrt_fifteenth = "#a8829f";	/* pinkDark  	*/
		var $chrt_sixteenth = "#d5e7ec";	/* lighten  	*/
		var $chrt_seventeenth = "#a57225";	/* orangeDark  	*/
		var $chrt_eighteenth = "#525252";	/* grayDark  	*/
		var $chrt_nineteenth = "#a65858";	/* redLight  	*/
		var $chrt_twentieth = "#fff";		/* white 	  	*/
		var $chrt_mono = "#404040";			/* darken  		*/


		runAllForms();

		runAllCharts();

		//ID DO ELEMENTO FORM DE CADASTRO PRINCIPAL
		var $IdElementForm = 'form-cadastro';


		/*### DEFINIÇÕES GERAIS DO MÓDULO ###*/
		var $ModuleDefsEvento = {
			"Name":"Painel", //IDENTIFICADOR INTERNO DO MÓDULO (REFERÊNCIA PARA PERMISSÃO DE ACESSO)
			"Prefix":"Even_", //PREFIXO DOS CAMPOS DO MÓDULO (USADOS NA TABELA DO BANCO DE DADOS)
			"Title":"", //TÍTULO DO MÓDULO
			"Entity":"Painel", //ENTIDADE DO MÓDULO (REFERÊNCIA PARA CLASSE)
			"Table":"Eventos", //NOME DA TABELA NO BANCO DE DADOS
			"EntitySingle":"", //ENTIDADE DO MÓDULO (SINGULAR)
			"EntityMultiple":"" //ENTIDADE DO MÓDULO (PLURAL)
		};
		/*### DEFINIÇÕES GERAIS DO MÓDULO ###*/

		/*
		 * RUN PAGE GRAPHS
		 */

		// load all flot plugins
		loadScript("lib/smartadmin/js/plugin/moment/moment.min.js", function(){
			loadScript("lib/smartadmin/js/plugin/chartjs/chart.min.js", function(){
				loadScript("lib/smartadmin/js/plugin/flot/jquery.flot.cust.min.js", function(){
					loadScript("lib/smartadmin/js/plugin/flot/jquery.flot.resize.min.js", function(){
						loadScript("lib/smartadmin/js/plugin/flot/jquery.flot.fillbetween.min.js", function(){
							loadScript("lib/smartadmin/js/plugin/flot/jquery.flot.orderBar.min.js", function(){
								loadScript("lib/smartadmin/js/plugin/flot/jquery.flot.pie.min.js", function(){
									loadScript("lib/smartadmin/js/plugin/flot/jquery.flot.time.min.js", function(){
										loadScript("lib/smartadmin/js/plugin/flot/jquery.flot.tooltip.min.js", function(){
											loadScript("lib/smartadmin/js/plugin/morris/raphael.min.js", function(){
												loadScript("lib/smartadmin/js/plugin/morris/morris.min.js", generatePageGraphs);
											});
										});
									});
								});
							});
						});
					});
				});
			});
		});


		function generatePageGraphs() {

		    /* TAB 1: UPDATING CHART */
		    // For the demo we use generated data, but normally it would be coming from the server

		    var data = [],
		        totalPoints = 200,
		        $UpdatingChartColors = $("#chartAtendimentos").css('color');

		    // setup plot
		    var $plotOptionsAtendimento = {
		        yaxis: {
		            min: 0,
		            max: 30
		        },
		        xaxis: {
		            min: 5,
		            max: 21
		        },
		        colors: [$UpdatingChartColors],
		        series: {
		            lines: {
		                lineWidth: 1,
		                fill: true,
		                fillColor: {
		                    colors: [{
		                        opacity: 0.4
		                    }, {
		                        opacity: 0
		                    }]
		                },
		                steps: false

		            }
		        }
		    };


		    var $plotOptionsServCat = {
				series : {
					pie : {
						show : true,
						innerRadius : 0.5,
						radius : 1,
						label : {
							show : true,
							radius : 2 / 3,
							formatter : function(label, series) {
								// console.log('formatter');
								// console.log(label);
								// console.log(series);
								return '<div style="font-size:11px;text-align:center;padding:4px;color:white; background-color:rgba(0,0,0,0.4); radius:4px; border-radius:4px;">' + label + '<br/>' + Math.round(series.percent) + '%</div>';
							},
							threshold : 0.1
						}
					}
				},
				legend : {
					show : true,
					noColumns : 1, // number of colums in legend table
					labelFormatter : null, // fn: string -> string
					labelBoxBorderColor : "#000", // border color for the little label boxes
					container : null, // container (as jQuery object) to put legend in, null means default on top of graph
					position : "ne", // position of default legend container within plot
					margin : [60, 60], // distance from grid edge to default legend container within plot
					backgroundColor : "#efefef", // null means auto-detect
					backgroundOpacity : 1 // set to 0 to avoid background
				},
				grid : {
					hoverable : true,
					clickable : true
				},
			};


		    var $PieConfig = {
		        type: 'pie',
		        data: {
		            datasets: [{
		                data: [],
		                backgroundColor: [
		                    $chrt_main,
		                    $chrt_second,
		                    $chrt_third,
		                    $chrt_fourth,
		                    $chrt_fifth,
		                    $chrt_sixth,
		                    $chrt_seventh,
		                    $chrt_eighth,
		                    $chrt_ninth,
		                    $chrt_tenth,
		                ],
		            }],
		            labels: [],
		        },
		        options: {
		            responsive: true
		        }
		    };




    		/*### FUNÇÃO QUE PREPARA OS DADOS DO JSON PARA O FORMATO DO GRÁFICO ###*/
    		//plotDataJSON = objeto JSON com os dados do gráfico
    		//Graph = tipo do gráfico
    		function setPlotData(plotDataJSON, Graph) {

    			console.log('setPlotData');
    			console.log(Graph);
    			console.log(plotDataJSON);

    			//CRIA VARIÁVEL DE DADOS
    			var plotData = [];



				/*### AÇÕES SE O TIPO DE GRÁFICO FOR atendimentos-real-time ###*/
    			if(Graph=='atendimentos-real-time') {

	    			/*### TRANSFORMA OS DADOS EM ARRAY NO FORMATO DO GRÁFICO ###*/
			    	$.each(plotDataJSON, function(index, value) {

						// console.log(index);
						// console.log(value);
						plotData.push(value);
			    	});
	    			/*### TRANSFORMA OS DADOS EM ARRAY NO FORMATO DO GRÁFICO ###*/
    			}
				/*### AÇÕES SE O TIPO DE GRÁFICO FOR atendimentos-real-time ###*/




				/*### AÇÕES SE O TIPO DE GRÁFICO FOR servicos-categorias ###*/
    			if(Graph=='servicos-categorias') {

    				var i = 0;
	    			/*### TRANSFORMA OS DADOS EM ARRAY NO FORMATO DO GRÁFICO ###*/
			    	$.each(plotDataJSON.CATEGORIA, function(ServTipo_id, ServTipo_Titulo) {

			    		var TotalCategoria = plotDataJSON.total_categoria[ServTipo_id] || 0;

						plotData[i] = {
							label : ServTipo_Titulo,
							data : TotalCategoria
						};

						i++;
			    	});
	    			/*### TRANSFORMA OS DADOS EM ARRAY NO FORMATO DO GRÁFICO ###*/
    			}
				/*### AÇÕES SE O TIPO DE GRÁFICO FOR servicos-categorias ###*/




    			//RETORNA OS DADOS EM ARRAY JS
		    	return plotData;
    		}
    		/*### FUNÇÃO QUE PREPARA OS DADOS DO JSON PARA O FORMATO DO GRÁFICO ###*/



    		/*### FUNÇÃO QUE ADICIONA LABEL/DATA NO CHARTJS ###*/
    		//chart = objeto do gráfico ChartJS
    		//label = nome da label
    		//data = valor da label
			function addCharJSData(chart, label, data) {

				// console.log('addCharJSData');
				// console.log(chart);
				// console.log(label);
				// console.log(data);

			    chart.data.labels.push(label);
			    chart.data.datasets.forEach((dataset) => {
			        dataset.data.push(data);
			    });
			    chart.update(0);
			}
    		/*### FUNÇÃO QUE ADICIONA LABEL/DATA NO CHARTJS ###*/




    		/*### FUNÇÃO QUE REMOVE UMA LABEL/DATA DO CHARTJS ###*/
    		//chart = objeto do gráfico ChartJS
			function removeCHARTJSData(chart) {

				// console.log('removeCHARTJSData');
				// console.log(chart);
				// console.log(chart.data);
				// console.log(chart.data.labels);

			    chart.data.labels.pop();
			    chart.data.datasets.forEach((dataset) => {
			        dataset.data.pop();
			    });
			    chart.update(0);
			}
    		/*### FUNÇÃO QUE REMOVE UMA LABEL/DATA DO CHARTJS ###*/




    		/*### FUNÇÃO QUE REMOVE TODOS OS DADOS DO CHARTJS ###*/
    		//chart = objeto do gráfico ChartJS
			function removeCHARTJSAllData(chart) {

				// console.log('removeCHARTJSData');
				// console.log(chart);
				// console.log(chart.data);
				// console.log(chart.data.labels);

				$.each(chart.data.labels, function(key, label) {

					console.log(key);
					console.log(label);

				    chart.data.labels.pop();
				    chart.data.datasets.forEach((dataset) => {
				        dataset.data.pop();
				    });
				});
			    chart.update(0);
			}
    		/*### FUNÇÃO QUE REMOVE TODOS OS DADOS DO CHARTJS ###*/



    		/*### FUNÇÃO QUE BUSCA OS DADOS REAL-TIME DE ATENDIMENTO E PREENCHE NO GRÁFICO ###*/
    		//Action = ação para controle do JS de atualização (start = primeira carga | update = atualização)
		    function getPlotData(Action, Graph) {

		    	console.log('\ngetPlotData');
		    	console.log(Action);
		    	console.log(Graph);

				//CRIA O OBJETO FORMDATA SE VEIO EM BRANCO
				var formData = new FormData();

				//ADICIONA O ACTION NO FORMDATA
			    formData.append("action", 'selecionar');

				//ADICIONA O id_reg
			    formData.append("id_reg", localStorage.getItem('EventoPadrao'));

				//ADICIONA O MODULEDEFS NO FORMDATA
			    formData.append("ModuleDefs", JSON.stringify($ModuleDefsEvento));

				//ADICIONA A ROTA NO FORMDATA
			    formData.append("Route", 'ActionForm');

				//ADICIONA O TOKEN NO FORMDATA
			    formData.append("Token", token);

				//ADICIONA O TIPO DE GRÁFICO
			    formData.append("Graph", Graph);

			    /*### AJAX PARA POSTAGEM DO FORMULÁRIO ###*/
			    return $.ajax({
			        type: "POST",
			        dataType: "json",
			        url: 'src/Controller/Controller.php',
			        data: formData,
			        contentType: false,
			        enctype: 'multipart/form-data',
			        processData: false,
			        success: function(data, textStatus, jqXHR) {

			        	ValidateToken(data.InvalidToken);

			        	if(data.Data) {



						    /*### AÇÕES SE O TIPO DE GRÁFICO FOR atendimentos-real-time ###*/
			        		if(Graph=='atendimentos-real-time') {

				        		var plotData = setPlotData(data.Data, Graph);

				        		if(Action=='start') {

				        			$GraficoAtendimento = $.plot($("#chartAtendimentos"), [plotData], $plotOptionsAtendimento);
									$GraficoAtendimento.draw();
				        		}
				        		else if(Action=='update') {

									$GraficoAtendimento.setData([plotData]);
									$GraficoAtendimento.draw();
				        		}
			        		}
						    /*### AÇÕES SE O TIPO DE GRÁFICO FOR atendimentos-real-time ###*/






						    /*### AÇÕES SE O TIPO DE GRÁFICO FOR atendimentos-spark ###*/
			        		else if(Graph=='atendimentos-spark') {

			        			$("#atendimentos-spark #AtendimentosTotal").html(data.TOTAL_GERAL_FORMAT);

								var sparkline = $("#atendimentos-spark #AtendimentosHora");

								var barColor = sparkline.data('sparkline-bar-color') || sparkline.css('color') || '#0000f0';
							    var sparklineHeight = sparkline.data('sparkline-height') || '26px';
							    var sparklineBarWidth = sparkline.data('sparkline-barwidth') || 5;
							    var sparklineBarSpacing = sparkline.data('sparkline-barspacing') || 2;

			        			sparkline.html(data.ATENDIMENTOS_HORA);
			        			// sparkline.sparkline('html', {type: 'bar'});


								sparkline.sparkline('html', {
									type : 'bar',
									barColor : barColor,
									height : sparklineHeight,
									barWidth : sparklineBarWidth,
									barSpacing : sparklineBarSpacing,
									zeroAxis : 'false'
								});

			        		}
						    /*### AÇÕES SE O TIPO DE GRÁFICO FOR atendimentos-spark ###*/







						    /*### AÇÕES SE O TIPO DE GRÁFICO FOR pessoas-total ###*/
			        		else if(Graph=='pessoas-total') {

			        			$("#pessoas-spark #PessoasTotal").html(data.TOTAL_GERAL_FORMAT);
			        		}
						    /*### AÇÕES SE O TIPO DE GRÁFICO FOR pessoas-total ###*/






						    /*### AÇÕES SE O TIPO DE GRÁFICO FOR pessoas-spark ###*/
			        		else if(Graph=='pessoas-spark') {

								var sparkline = $("#pessoas-spark #PessoasHora");

								var barColor = sparkline.data('sparkline-bar-color') || sparkline.css('color') || '#0000f0';
							    var sparklineHeight = sparkline.data('sparkline-height') || '26px';
							    var sparklineBarWidth = sparkline.data('sparkline-barwidth') || 5;
							    var sparklineBarSpacing = sparkline.data('sparkline-barspacing') || 2;

			        			sparkline.html(data.PESSOAS_HORA);
			        			// sparkline.sparkline('html', {type: 'bar'});


								sparkline.sparkline('html', {
									type : 'bar',
									barColor : barColor,
									height : sparklineHeight,
									barWidth : sparklineBarWidth,
									barSpacing : sparklineBarSpacing,
									zeroAxis : 'false'
								});

			        		}
						    /*### AÇÕES SE O TIPO DE GRÁFICO FOR pessoas-spark ###*/







						    /*### AÇÕES SE O TIPO DE GRÁFICO FOR servicos-senhas ###*/
			        		else if(Graph=='servicos-senhas') {

			        			var backgrounds = ['bg-color-blue',
								        			'bg-color-green',
								        			'bg-color-red',
								        			'bg-color-yellow',
								        			'bg-color-orange',
								        			'bg-color-pink',
								        			'bg-color-purple',
								        			'bg-color-magenta',
								        			'bg-color-teal',
								        			'bg-color-blueLight',
								        			'bg-color-greenLight',
								        			'bg-color-blueDark',
								        			'bg-color-greenDark',
								        			'bg-color-orangeDark',
								        			'bg-color-pinkDark',
								        			'bg-color-lighten',
								        			'bg-color-darken',
								        			'bg-color-grayDark',
								        			'bg-color-redLight'];
			        			var i = 0;

			        			$("#ServicosSenhas").html('');

			        			$.each(data.Data, function(ParcServ_id, DataObject) {

			        				$("#ServicosSenhas").append('<div class="col-xs-6 col-sm-6 col-md-12 col-lg-12">\
			        												<span class="text"> '+DataObject.SERVICO+' <span class="pull-right">'+DataObject.SENHAS_UTILIZADAS+'/'+DataObject.SENHAS_TOTAIS+'</span> </span>\
																		<div class="progress">\
																			<div class="progress-bar '+backgrounds[i]+'" style="width: '+DataObject.SENHAS_PERCENTUAL+'%;"></div>\
																		</div>\
																</div>');
			        				i++;

			        			});

			        			$("#TotalSenhas").data('easyPieChart').update(data.TOTAIS["TOTAL_SENHAS_TOTAIS"]);
			        			$("#SenhasDistribuidas").data('easyPieChart').update(data.TOTAIS["PERC_SENHAS_DISTRIBUIDAS"]);
			        			$("#SenhasAtendidas").data('easyPieChart').update(data.TOTAIS["PERC_SENHAS_ATENDIDAS"]);
			        			$("#PessoasAtendimento").data('easyPieChart').update(data.TOTAIS["TOTAL_SENHAS_ATENDIMENTO"]);
			        			// $("#PessoasAguardando").data('easyPieChart').update(data.TOTAIS["TOTAL_SENHAS_AGUARDANDO"]);


			        		}
						    /*### AÇÕES SE O TIPO DE GRÁFICO FOR servicos-senhas ###*/






						    /*### AÇÕES SE O TIPO DE GRÁFICO FOR servicos-categorias ###*/
			        		else if(Graph=='servicos-categorias') {

								if(Action=='start') {

									// var $GraficoServCat = new Chart(document.getElementById("GraficoServCat"), $PieConfig);
									$.each(data.Data["CATEGORIA"], function(ServTipo_id, ServTipo_Titulo) {

											addCharJSData($GraficoServCat, ServTipo_Titulo, data.Data["TOTAL_CATEGORIA"][ServTipo_id]);
										});
								}

								if(Action=='update') {

									removeCHARTJSAllData($GraficoServCat);
									// $GraficoServCat = new Chart(document.getElementById("GraficoServCat"), $PieConfig);
									$.each(data.Data["CATEGORIA"], function(ServTipo_id, ServTipo_Titulo) {

										// removeCHARTJSData($GraficoServCat);
										addCharJSData($GraficoServCat, ServTipo_Titulo, data.Data["TOTAL_CATEGORIA"][ServTipo_id]);
									});
								}


			        		}
						    /*### AÇÕES SE O TIPO DE GRÁFICO FOR servicos-categorias ###*/










			        	}
			        },
				    error: function (jqXHR, status, error) {

				    }
			    });
			    /*### AJAX PARA POSTAGEM DO FORMULÁRIO ###*/


		    }
    		/*### FUNÇÃO QUE BUSCA OS DADOS REAL-TIME DE ATENDIMENTO E PREENCHE NO GRÁFICO ###*/



			var $TempoPainel = Number(localStorage.getItem('TempoPainel'))*1000;

			var updateInterval = $TempoPainel;

		    $("#chartAtendimentos").val(updateInterval).change(function () {

		        var v = $(this).val();
		        if (v && !isNaN(+v)) {
		            updateInterval = +v;
		            $(this).val("" + updateInterval);
		        }

		    });



		    /*### GERAÇÃO DO GRÁFICO PLOT REALTIME ###*/

		    //VARIÁVEL DE DADOS DO GRÁFICO
			var plotData = [];

			//GRÁFICO PLOT REALTIME
			$GraficoAtendimento = $.plot($("#chartAtendimentos"), [plotData], $plotOptionsAtendimento);
		    /*### GERAÇÃO DO GRÁFICO PLOT REALTIME ###*/








		    /*### AÇÕES DO BOTÃO DE CONTROLE DE ATUALIZAÇÃO EM TEMPO REAL ###*/
		    $('input[type="checkbox"]#start_interval').click(function () {
		        if ($(this).prop('checked')) {
		            $on = true;
		            updateInterval = $TempoPainel;
		            update();
		        } else {
		            clearInterval(updateInterval);
		            $on = false;
		        }
		    });
		    /*### AÇÕES DO BOTÃO DE CONTROLE DE ATUALIZAÇÃO EM TEMPO REAL ###*/






		    /*### FUNÇÃO QUE CRIA O CONTADOR DE ATUALIZAÇÃO DO GRÁFICO REAL-TIME ###*/
		    function update() {

				try {
			        if ($on == true) {

						getPlotData('update','atendimentos-real-time');
						getPlotData('update','atendimentos-spark');
						getPlotData('update','pessoas-total');
						getPlotData('update','pessoas-spark');
						getPlotData('update','servicos-senhas');
						getPlotData('update','servicos-categorias');

			            setTimeout(update, updateInterval);

			        } else {
			            clearInterval(updateInterval)
			        }
				}
				catch(err) {
				    clearInterval(updateInterval);
				}

		    }
		    /*### FUNÇÃO QUE CRIA O CONTADOR DE ATUALIZAÇÃO DO GRÁFICO REAL-TIME ###*/



		    var $on = false;

		    /*end updating chart*/










		    /*### GERAÇÃO DO GRÁFICO CHARJS DE ATENDIMENTOS POR CATEGORIA ###*/
			var $GraficoServCat = new Chart(document.getElementById("GraficoServCat"), $PieConfig);
		    /*### GERAÇÃO DO GRÁFICO CHARJS DE ATENDIMENTOS POR CATEGORIA ###*/










			/*### CHAMA AS FUNÇÕES QUE CARREGAM OS DADOS DOS GRÁFICOS ###*/
			getPlotData('start','atendimentos-real-time');
			getPlotData('start','atendimentos-spark');
			getPlotData('start','pessoas-total');
			getPlotData('start','pessoas-spark');
			getPlotData('start','servicos-senhas');
			getPlotData('start','servicos-categorias');
			/*### CHAMA AS FUNÇÕES QUE CARREGAM OS DADOS DOS GRÁFICOS ###*/











		    /*### GERAÇÃO DO GRÁFICO PLOT SERVIÇOS X PARCEIROS ###*/

			// console.log('GraficoServParc');

			var data1 = [];
			for (var i = 0; i <= 6; i += 1)
				data1.push([i, parseInt(Math.random() * 30)]);

			var data2 = [];
			for (var i = 0; i <= 6; i += 1)
				data2.push([i, parseInt(Math.random() * 30)]);

			var data3 = [];
			for (var i = 0; i <= 6; i += 1)
				data3.push([i, parseInt(Math.random() * 30)]);

			// console.log(data1);
			var ds = new Array();

			ds.push({
				data : data1,
				bars : {
					show : true,
					barWidth : 0.2,
					order : 1,
				}
			});
			ds.push({
				data : data2,
				bars : {
					show : true,
					barWidth : 0.2,
					order : 2
				}
			});
			ds.push({
				data : data3,
				bars : {
					show : true,
					barWidth : 0.2,
					order : 3
				}
			});

			//Display graph
			var $GraficoServParc = $.plot($("#GraficoServParc"), ds, {
				colors : [$chrt_second, $chrt_fourth, "#666", "#BBB"],
				grid : {
					show : true,
					hoverable : true,
					clickable : true,
					tickColor : $chrt_border_color,
					borderWidth : 0,
					borderColor : $chrt_border_color,
				},
				xaxis: {
					mode: "categories",
					tickLength: 0
				},
				legend : true,
				tooltip : true,
				tooltipOpts : {
					content : "<b>%x</b> = <span>%y</span>",
					defaultTheme : false
				}

			});












			var randomScalingFactor = function() {
	            return Math.round(Math.random() * 100);
	            //return 0;
	        };
	        var randomColorFactor = function() {
	            return Math.round(Math.random() * 255);
	        };
	        var randomColor = function(opacity) {
	            return 'rgba(' + randomColorFactor() + ',' + randomColorFactor() + ',' + randomColorFactor() + ',' + (opacity || '.3') + ')';
	        };




			// var barChartData, PieConfig;

		    // pie chart example


			// var $GraficoServCat = new Chart(document.getElementById("pieChart"), PieConfig);


			// addData($GraficoServCat,'teste1',randomScalingFactor());
			// addData($GraficoServCat,'teste3',randomScalingFactor());
			// addData($GraficoServCat,'teste2',randomScalingFactor());


	  //       barChartData = {
	  //           labels: ["January", "February", "March", "April", "May", "June", "July"],
	  //           datasets: [{
	  //               label: 'Dataset 1',
	  //               backgroundColor: "rgba(220,220,220,0.5)",
	  //               data: [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor()]
	  //           }, {
	  //               label: 'Dataset 2',
	  //               backgroundColor: "rgba(151,187,205,0.5)",
	  //               data: [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor()]
	  //           }, {
	  //               label: 'Dataset 3',
	  //               backgroundColor: "rgba(151,187,205,0.5)",
	  //               data: [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor()]
	  //           }]

	  //       };

   //          myBar = new Chart(document.getElementById("barChart"), {
   //              type: 'bar',
   //              data: barChartData,
   //              options: {
   //                  responsive: true,
   //              }
   //          });




		    /*### GERAÇÃO DO GRÁFICO PLOT SERVIÇOS X PARCEIROS ###*/






		}
		/* end generatePageGraphs */


	};

	// end pagefunction

	// destroy generated instances
	// pagedestroy is called automatically before loading a new page
	// only usable in AJAX version!



	/*#### CARREGAR SCRIPTS ESPECÍFICOS ####*/
	loadScript("src/Javascript/Functions.js?version=" + Math.floor(Math.random() * 100), function() {
		loadScript("lib/bootbox/bootbox.js", function() {

			localStorage.setItem('TempoPainel','30');

			pagefunctionPainel();

			/*### BUSCA O VALOR DO PARÂMETRO DE TEMPO DE ATUALIZAÇÃO DO PAINEL E ARMAZENA EM VARIÁVEL ###*/

		});
	});
	/*#### CARREGAR SCRIPTS ESPECÍFICOS ####*/


	var pagedestroy = function(){


		//destroy flots
		$GraficoAtendimento.shutdown();
		$GraficoAtendimento=null;

		$GraficoServCat.shutdown();
		$GraficoServCat=null;

		flot_statsChart.shutdown();
		flot_statsChart = null;

		flot_multigraph.shutdown();
		flot_multigraph = null;

    	myBar.destroy();
    	barChartData=null;

    	myPie.destroy();
    	PieConfig=null;

	}

	// end destroy

	// run pagefunction on load
	// pagefunction();


</script>
